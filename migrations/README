# Database Migrations

This directory contains Alembic migration files for the ESG DataVault Flask application.

## Setup

1. Install dependencies: `pip install -r requirements.txt`
2. Set the DATABASE_URL environment variable (optional - defaults to SQLite)

## Basic Commands

### Create a new migration
```bash
alembic revision --autogenerate -m "description of changes"
```

### Apply migrations
```bash
alembic upgrade head
```

### Check current migration status
```bash
alembic current
```

### View migration history
```bash
alembic history
```

### Downgrade to previous migration
```bash
alembic downgrade -1
```

## Environment Configuration

The migrations are configured to use the DATABASE_URL environment variable.
If not set, it defaults to `sqlite:///./esg_data.db`.

For production, set DATABASE_URL to your PostgreSQL connection string:
```bash
export DATABASE_URL="postgresql://user:password@localhost/esg_db"
```